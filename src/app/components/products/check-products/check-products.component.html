<app-undernav [show]="true"></app-undernav>
<section *ngIf="data">
  <h1 class="heading"><span class="spanx">Products</span> listing</h1>
  <h2>Manage the products for sale on AutoTheater</h2>
  <div class="container">
    <div class="insideContainer">
      <ng-container *ngIf="data.length > 0; else elseTemplate">
        <div class="table-container">

          <table class="contents-table">
            <caption>
              List of your selected products
            </caption>
            <thead>
              <tr>
                <th scope="col">
                  Product
                </th>
                <th scope="col">Pricing<br /><small>*Individual price</small></th>
                <th scope="col" colspan="2">
                  Associated classifications
                </th>
                <th scope="col">
                  Ratings
                </th>
                <th scope="col" colspan="2">Perform actions<br />‚úÖ</th>
              </tr>
            </thead>
            <tbody>
              <tr *ngFor="let item of data; let i = index">
                <td>
                {{ item.name }}
              </td>
              <td>${{ item.price | number:'1.0-0' }}</td>
              <td colspan="2">
                <div
                *ngFor="let i of item.classificationproducts"
                class="class-container"
                >
                <div class="class-tag">
                  <span
                  class="material-icons gen-icon"
                  style="vertical-align: middle; display: inline-flex;"
                  >
                  fiber_manual_record
                </span>
                {{ i.type }}
              </div>
            </div>
          </td>
          <td>
            <div class="stars" *ngIf="item.ratings_count === 0">
              <span class="material-icons star-unselected">
                star_border
              </span>
              <span class="material-icons star-unselected">
                star_border
              </span>
              <span class="material-icons star-unselected">
                star_border
              </span>
              <span class="material-icons star-unselected">
                star_border
              </span>
              <span class="material-icons star-unselected">
                star_border
              </span>
            </div>
            <div
            class="stars"
            *ngIf="item.ratings_count >= 1 && item.ratings_count <= 3"
            >
            <span class="material-icons star-selected">
              star
            </span>
            <span class="material-icons star-unselected">
              star_border
            </span>
            <span class="material-icons star-unselected">
              star_border
            </span>
            <span class="material-icons star-unselected">
              star_border
            </span>
            <span class="material-icons star-unselected">
              star_border
            </span>
          </div>
          <div
          class="stars"
          *ngIf="item.ratings_count >= 4 && item.ratings_count <= 7"
          >
          <span class="material-icons star-selected">
            star
          </span>
                  <span class="material-icons star-selected">
                    star
                  </span>
                  <span class="material-icons star-unselected">
                    star_border
                  </span>
                  <span class="material-icons star-unselected">
                    star_border
                  </span>
                  <span class="material-icons star-unselected">
                    star_border
                  </span>
                </div>
                <div
                class="stars"
                *ngIf="item.ratings_count >= 8 && item.ratings_count <= 15"
                >
                <span class="material-icons star-selected">
                  star
                </span>
                <span class="material-icons star-selected">
                  star
                </span>
                <span class="material-icons star-selected">
                  star
                </span>
                <span class="material-icons star-unselected">
                  star_border
                </span>
                <span class="material-icons star-unselected">
                  star_border
                </span>
              </div>
              <div
              class="stars"
              *ngIf="item.ratings_count >= 16 && item.ratings_count <= 25"
              >
                  <span class="material-icons star-selected">
                    star
                  </span>
                  <span class="material-icons star-selected">
                    star
                  </span>
                  <span class="material-icons star-selected">
                    star
                  </span>
                  <span class="material-icons star-selected">
                    star
                  </span>
                  <span class="material-icons star-unselected">
                    star_border
                  </span>
                </div>
                <div class="stars" *ngIf="item.ratings_count >= 26">
                  <span class="material-icons star-selected">
                    star
                  </span>
                  <span class="material-icons star-selected">
                    star
                  </span>
                  <span class="material-icons star-selected">
                    star
                  </span>
                  <span class="material-icons star-selected">
                    star
                  </span>
                  <span class="material-icons star-selected">
                    star
                  </span>
                </div>
                <div class="starCounter">
                  <p>({{ item.ratings_count }})</p>
                </div>
              </td>
              <td colspan="2">
                <a
                [routerLink]="['/products/',item.id]"
                routerLinkActive="active"
                name="detaildBtn"
                id="details-btn"
                class="submit-button"
                >Details</a
              >
              <a
                [routerLink]="['/update-products/',item.id]"
                routerLinkActive="active"
                name="editBtn"
                id="edit-btn"
                class="submit-button"
                >Edit</a
              >
              </td>
            </tr>
          </tbody>
        </table>
      </div>
      </ng-container>
      <ng-template #elseTemplate>
        <div class="no-no-container">
          <p>The product directory is empty ü§∑‚Äç‚ôÇÔ∏è</p>
        </div>
      </ng-template>
    </div>
  </div>
</section>
<section *ngIf="!data">
  <app-loading></app-loading>
</section>
